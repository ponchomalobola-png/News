<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Journalist Chat</title>
   <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FKXMFN74FW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FKXMFN74FW');
</script>
  <style>
  button {
  touch-action: manipulation; /* Prevents double-tap zoom */
}
  #footer {
  background: #eeeeee;
  color: #333;
  font-size: 0.75em;
  text-align: center;
  padding: 6px 10px;
  border-top: 1px solid #ccc;
}
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: sans-serif;
      background: #e5ddd5;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
   header {
  background: #075e54;
  color: #fff;
  padding: 10px 0 30px; /* extra bottom padding for ticker */
  text-align: center;
  font-weight: bold;
  font-size: 1em;
  position: relative;
}
    #live-badge {
      position: fixed;
      top: 10px;
      right: 10px;
      background: red;
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8em;
      font-weight: bold;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);
      animation: pulse 1.5s infinite;
      z-index: 999;
    }
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.2); opacity: 0.7; }
      100% { transform: scale(1); opacity: 1; }
    }
    #ticker {
  background: #25d366;
  color: #000;
  font-size: 0.8em;
  padding: 5px 10px;
  white-space: nowrap;
  overflow: hidden;
}
    #ticker span {
      display: inline-block;
      padding-left: 100%;
      animation: scroll 15s linear infinite;
    }
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
    #chat-box {
      flex: 1;
      padding: 10px;
      overflow-y: auto;
      background: #fff;
      display: flex;
      flex-direction: column;
    }
    .message {
      margin: 6px 0;
      padding: 8px 12px;
      border-radius: 8px;
      max-width: 75%;
      word-wrap: break-word;
      font-size: 0.9em;
      position: relative;
    }
    .user {
      background: #dcf8c6;
      align-self: flex-end;
    }
    .bot {
      background: #f0f0f0;
      align-self: flex-start;
    }
    .timestamp {
      font-size: 0.7em;
      color: #555;
      margin-top: 2px;
      text-align: right;
    }
    .date-divider {
      text-align: center;
      font-size: 0.75em;
      color: #666;
      margin: 10px 0;
    }
    #input-area {
      display: flex;
      align-items: center;
      padding: 8px;
      background: #f7f7f7;
      gap: 8px;
    }
    #user-input {
      flex: 1;
      padding: 10px 14px;
      border: none;
      border-radius: 20px;
      font-size: 0.9em;
      background: #fff;
      box-shadow: 0 0 2px rgba(0,0,0,0.2);
    }
    #button-group {
      display: flex;
      gap: 6px;
    }
    .chat-button {
      width: 40px;
      height: 40px;
      border: none;
      border-radius: 50%;
      font-size: 1.2em;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      cursor: pointer;
      transition: transform 0.2s;
    }
    .chat-button:hover {
      transform: scale(1.1);
    }
    #send-btn {
      background: #25d366;
    }
    #clear-btn {
      background: #d32f2f;
    }
  </style>
</head>
<body>
  <div id="live-badge">LIVE</div>
  <header>
  üì∞ Journalist Chat
  <div id="ticker"><span id="headline-text">Breaking: AI tools reshape African newsrooms ‚Ä¢ Rand strengthens ‚Ä¢ Youth media surges</span></div>
</header>
  <div id="chat-box"></div>
  <div id="input-area">
    <input type="text" id="user-input" placeholder="Type a message" />
    <div id="button-group">
      <button id="send-btn" class="chat-button" onclick="sendMessage()">üì´</button>
      <button id="clear-btn" class="chat-button" onclick="clearUserMessages()">üö´</button>
    </div>
  </div>

  <script>
    document.addEventListener('gesturestart', function (e) {
  e.preventDefault();
});
    const chatBox = document.getElementById('chat-box');
    const userInput = document.getElementById('user-input');
    const headlines = [
      "Breaking: AI tools reshape African newsrooms",
      "Rand strengthens against dollar",
      "Youth-led media platforms surge",
      "Journalists demand protection laws",
      "Juvenile Corner News launches LIVE ticker"
    ];
    let headlineIndex = 0;
    let lastDate = '';

    function rotateHeadlines() {
      document.getElementById('headline-text').textContent = headlines[headlineIndex];
      headlineIndex = (headlineIndex + 1) % headlines.length;
    }
    setInterval(rotateHeadlines, 8000);

    function sendMessage() {
      const text = userInput.value.trim();
      if (!text) return;
      const now = new Date();
      insertDateDivider(now);
      appendMessage(text, 'user', now);
      saveToHistory(text, 'user', now);
      userInput.value = '';
      setTimeout(() => {
        const reply = generateBotReply(text);
        appendMessage(reply, 'bot', new Date());
        saveToHistory(reply, 'bot', new Date());
      }, 400);
    }

    function appendMessage(text, sender, time) {
      const msg = document.createElement('div');
      msg.className = `message ${sender}`;
      msg.innerHTML = `${text}<div class="timestamp">${formatTime(time)}</div>`;
      chatBox.appendChild(msg);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function insertDateDivider(date) {
      const today = formatDate(date);
      if (today !== lastDate) {
        const divider = document.createElement('div');
        divider.className = 'date-divider';
        divider.textContent = today;
        chatBox.appendChild(divider);
        lastDate = today;
      }
    }

    function formatTime(date) {
      return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    }

    function formatDate(date) {
      return date.toLocaleDateString([], { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' });
    }

    function generateBotReply(input) {
  const lower = input.toLowerCase();

  if (lower.includes('hi') || lower.includes('hello') || lower.includes('good morning')) {
    return 'Good day! Ready to chase the next headline?';
  }
  if (lower.includes('can') || lower.includes('wear to') || lower.includes('interview')) {
    return 'Formal, Smart casual or clothes that match the kind of job your going to be interviewed for.'
  }
  if (lower.includes('yes')) return 'Awesome, please feel free to write it below.';
  if (lower.includes('how long') && lower.includes('publish')) {
  return 'As soon as our editors see it üòâ'
  }
  if (lower.includes('scared you') && lower.includes('judge')) {
  return 'No, I am here for you ü´Ç. Maybe you can turn that into an article.';
}
  if (lower.includes('got') && lower.includes('job')) {
  return 'Wow those are some good news, poverty is about to be crashedü´Ç.';
}
if (lower.includes('help') && lower.includes('question')) {
  return 'Sure, I am here for you ü´Ç.';
}if (lower.includes('can') || lower.includes('help') || lower.includes('prepare')) {
  return 'Sure thing ü´Ç.';
}
if (lower.includes('most common') || lower.includes('interview') || lower.includes('questions')) {
  return 'Some of the most asked interview questions are things like ‚ÄúTell me about yourself,‚Äù ‚ÄúWhat are your strengths and weaknesses,‚Äù and ‚ÄúWhy do you want to work here?‚Äù They‚Äôre designed to get a feel for who you are, how you think, and how you‚Äôd fit in. It‚Äôs worth practicing a few answers so you feel confident and natural when they come up. Just ask me each of these questions and I will try to give you an idea on how to answer it.';
}
if (lower.includes('prepare') || lower.includes('interview')) {
  return 'Getting ready for an interview? Start by learning about the company and the role. Practice your answers‚Äîespecially the tricky ones‚Äîusing the STAR method. Pick out something smart to wear, print your CV and references, and think of a few good questions to ask them too. Oh, and don‚Äôt forget to show up on time and send a quick thank-you note afterward. It really makes a difference.';
}
if (lower.includes('thank') && lower.includes('you')) {
  return 'Your welcome, please feel free to talk to me or write and send your article, whenever you want üòâ.';
}
if (lower.includes('will') && lower.includes('be')) {
  return 'Yes, please feel free to write and send your article, whenever your ready.';
}
if (lower.includes('kind of article') && lower.includes('what')) {
  return 'All kinds, please feel free to write and send your article, whenever your ready.';
}
if (lower.includes('yourself') || lower.includes('intro')) {
  return 'You could start with what you‚Äôre doing now, then share a few highlights that connect to the role.';
}
if (lower.includes('describe') || lower.includes('personality')) {
  return 'Pick a few traits that really feel like you‚Äîthen back them up with a quick story.';
}
if (lower.includes('unique') || lower.includes('different')) {
  return 'This is your moment to stand out. Share something you bring that others might not.';
}
if (lower.includes('why') && (lower.includes('here') || lower.includes('company'))) {
  return 'Talk about what drew you to the company‚Äîmaybe their mission, culture, or something they‚Äôve built.';
}
if (lower.includes('role') || lower.includes('position')) {
  return 'Mention a few parts of the job that excite you and match your strengths.';
}
if (lower.includes('motivates') || lower.includes('drive')) {
  return 'Share what gets you going‚Äîsolving problems, helping people, learning new things. Keep it real.';
}
if (lower.includes('passion') || lower.includes('care about')) {
  return 'Talk about something you genuinely care about and how it shows up in your work.';
}
if (lower.includes('leaving') || lower.includes('quit')) {
  return 'Keep it positive. Say you‚Äôre looking for growth, new challenges, or better alignment.';
}
if (lower.includes('strength') || lower.includes('good at')) {
  return 'Pick a couple of strengths that matter for the job, and share how they‚Äôve helped you succeed.';
}
if (lower.includes('weakness') || lower.includes('improve')) {
  return 'Be honest, but show growth. Pick something you‚Äôve worked on and explain how you‚Äôre improving.';
}
if (lower.includes('goals') || lower.includes('future')) {
  return 'Share where you‚Äôd love to grow‚Äîskills, leadership, impact. Keep it aligned with the company‚Äôs path.';
}
if (lower.includes('five') || lower.includes('years')) {
  return 'Talk about how you see yourself evolving‚Äîmaybe leading, deepening your craft, or mentoring others.';
}
if (lower.includes('challenge') || lower.includes('problem')) {
  return 'Use a short story to show how you handled a tough moment. Focus on what you learned.';
}
if (lower.includes('salary') || lower.includes('pay')) {
  return 'You can share a range based on your research, and say you‚Äôre open to discussion.';
}
if (lower.includes('hire') || lower.includes('choose')) {
  return 'Highlight your top skills, your energy, and how you‚Äôll help them win. Make it easy to say yes.';
}
if (lower.includes('questions') || lower.includes('ask')) {
  return 'Ask about the team, what success looks like, or what they enjoy most. It shows you care.';
}
  if (lower.includes('deadline')) return 'Deadline approaching? Prioritize clarity over perfection.';
  if (lower.includes('ok')) return 'Sharp üëç';
  if (lower.includes('no')) return 'Whats wrong, please feel free to share if you don-t mind';
  if (lower.includes('source')) return 'Always verify with at least two independent sources.';
  if (lower.includes('headline')) return 'Make it punchy, relevant, and emotionally resonant.';
  if (lower.includes('cheated')) return 'I am sorry, but we can try writing something to express that, if you don-t mind of course.';
  if (lower.includes('ethics')) return 'Transparency and accountability are your strongest tools.';
  if (lower.includes('publish')) return 'Before publishing, ask: is it clear, fair, and necessary?';
  if (lower.includes('editor')) return 'Your editor is your ally‚Äîclarify> your angle before filing.';
  if (lower.includes('fact-check')) return 'Fact-checking isn‚Äôt optional‚Äîit‚Äôs your credibility.';
  if (lower.includes('interview')) return 'Prepare open-ended questions and listen actively.';
  if (lower.includes('photo') || lower.includes('image')) return 'Visuals should support the story, not distract.';
  if (lower.includes('press') || lower.includes('media')) return 'The press holds power‚Äîuse it responsibly.';
  if (lower.includes('story') || lower.includes('article')) return 'Every story needs a strong lead and a clear arc.';
  if (lower.includes('pitch')) return 'Pitch with precision: who, why, and why now.';
  if (lower.includes('journalism') || lower.includes('reporting')) return 'Journalism is truth told with urgency.';
  if (lower.includes('ai') || lower.includes('automation')) return 'AI can assist, but human judgment leads.';
  if (lower.includes('politics') || lower.includes('celebrity') || lower.includes('sports')) return 'Let‚Äôs keep it focused on journalism and publishing.';

  return 'Thank you, talk soon üòâ';
}
    function saveToHistory(text, sender, time) {
      const history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
      history.push({ text, sender, time: time.getTime() });
      localStorage.setItem('chatHistory', JSON.stringify(history));
    }

    function loadHistory() {
      const now = Date.now();
      const week = 7 * 24 * 60 * 60 * 1000;
      let history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
      history = history.filter(msg => now - msg.time < week);
      localStorage.setItem('chatHistory', JSON.stringify(history));
      lastDate = '';
      history.forEach(msg => {
        const date = new Date(msg.time);
        insertDateDivider(date);
        appendMessage(msg.text, msg.sender, date);
      });
    }

    function clearUserMessages() {
  let history = JSON.parse(localStorage.getItem('chatHistory') || '[]');
  let filtered = [];
  for (let i = 0; i < history.length; i++) {
    if (history[i].sender === 'user') {
      i++; // skip bot reply
    } else {
      filtered.push(history[i]);
    }
  }
  localStorage.setItem('chatHistory', JSON.stringify(filtered));
  chatBox.innerHTML = '';
  lastDate = '';
  filtered.forEach(msg => {
    const date = new Date(msg.time);
    insertDateDivider(date);
    appendMessage(msg.text, msg.sender, date);
  });
}

    // IndexedDB setup and wipe
    let db;
    const request = indexedDB.open("JournalistDrafts", 1);
    request.onerror = () => console.log("IndexedDB failed");
    request.onsuccess = () => {
      db = request.result;
      const tx = db.transaction("drafts", "readwrite");
      const store = tx.objectStore("drafts");
      store.clear(); // wipe drafts on load
    };
    request.onupgradeneeded = (event) => {
      db = event.target.result;
      db.createObjectStore("drafts", { autoIncrement: true });
    };

    loadHistory();
  </script>
  <footer id="footer">
  ¬© 2025 Juvenile Corner News ‚Ä¢ Powered by Journalists, Driven by Truth
</footer>
</body>
</html>